module.exports.simpleDrawerLayout = (function() {
	//var $ = require('jquery');
	var b,
		d,
		c,
		f = !0,
		g,
		e = !1;
	_checkProperty = function(a) {
		if (a) {
			if (a.hasOwnProperty('overlay'))
				if ('boolean' === typeof a.overlay) f = a.overlay;
				else throw Error('params overlay must be boolean');
			if (a.hasOwnProperty('backdrop'))
				if ('string' === typeof a.backdrop) g = a.backdrop;
				else throw Error('params backdrop must be string');
		}
	};
	_detectGuester = function() {
		$('body').on('touchstart mousedown', function(a) {
			a.preventDefault();
			var b = a.clientX;
			$('body').on('touchend mouseup', function(a) {
				$('body').off('mouseup');
				$('body').off('mousemove');
				$('body').off('touchend');
				$('body').off('touchmove');
			});
			$('body').on('touchmove mousemove', function(a) {
				a.preventDefault();
				a = b - a.clientX;
				var c = Math.abs(a);
				0 > a ? 100 <= c && (e || d.click()) : 100 <= c && e && d.click();
			});
		});
	};
	return {
		toggle: function(a) {
			b = $('.drawer-hamburger');
			d = $('#simple_drawer_header');
			c = $('#simple_drawer_wrapper');
			if (b && d && c) {
				if (a.hasOwnProperty('guester'))
					if ('string' === typeof a.guester) 'swipe' === a.guester && _detectGuester();
					else throw Error('guester must be string');
				d.click(function() {
					_checkProperty(a);
					b.hasClass('simple-hamburger-open')
						? (b.removeClass('simple-hamburger-open'),
							b.addClass('simple-hamburger-reverse'),
							c.removeClass('simple-drawer-open'),
							c.addClass('simple-drawer-close'),
							f &&
								0 !== $('body').find('.simple-drawer-overlay').length &&
								$('body').find('.simple-drawer-overlay').remove(),
							(e = !1))
						: (c.removeClass('simple-drawer-close'),
							c.addClass('simple-drawer-open'),
							b.removeClass('simple-hamburger-reverse'),
							b.addClass('simple-hamburger-open'),
							(e = !0),
							f &&
								0 === $('body').find('.simple-drawer-overlay').length &&
								($('body').append("<div class='simple-drawer-overlay'></div>"),
								g && $('.simple-drawer-overlay').css({ 'background-color': g })));
				});
			} else throw Error('not find drawer-hamburger class or simple_drawer_header id');
		}
	};
})();
